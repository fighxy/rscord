<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RSCord - Discord Clone</title>
    
    <!-- Security headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: https:; connect-src 'self' ws: wss: https:; img-src 'self' data: https:;">
    
    <!-- Disable context menu and developer tools -->
    <style>
      /* Global context menu disable */
      * {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        -webkit-touch-callout: none;
        -webkit-context-menu: none;
        context-menu: none;
      }
      
      /* Allow selection in inputs */
      input, textarea, [contenteditable] {
        -webkit-user-select: text !important;
        -moz-user-select: text !important;
        -ms-user-select: text !important;
        user-select: text !important;
      }
      
      /* Hide potential browser menus */
      .context-menu, [role="menu"] {
        display: none !important;
        visibility: hidden !important;
      }
    </style>
  </head>

  <body oncontextmenu="return false;" onselectstart="return false;" ondragstart="return false;">
    <div id="root"></div>
    
    <!-- Disable context menu and developer tools via script -->
    <script>
      // Disable context menu globally
      document.addEventListener('contextmenu', function(e) {
        e.preventDefault();
        e.stopPropagation();
        return false;
      }, true);
      
      // Disable text selection except in inputs
      document.addEventListener('selectstart', function(e) {
        const target = e.target;
        const allowedTags = ['INPUT', 'TEXTAREA'];
        const isContentEditable = target.isContentEditable;
        
        if (!allowedTags.includes(target.tagName) && !isContentEditable) {
          e.preventDefault();
          return false;
        }
      });
      
      // Disable drag and drop
      document.addEventListener('dragstart', function(e) {
        e.preventDefault();
        return false;
      });
      
      document.addEventListener('drop', function(e) {
        e.preventDefault();
        return false;
      });
      
      // Disable keyboard shortcuts for developer tools
      document.addEventListener('keydown', function(e) {
        // F12
        if (e.keyCode === 123) {
          e.preventDefault();
          e.stopPropagation();
          return false;
        }
        
        // Ctrl+Shift+I (DevTools)
        if (e.ctrlKey && e.shiftKey && e.keyCode === 73) {
          e.preventDefault();
          e.stopPropagation();
          return false;
        }
        
        // Ctrl+Shift+J (Console)
        if (e.ctrlKey && e.shiftKey && e.keyCode === 74) {
          e.preventDefault();
          e.stopPropagation();
          return false;
        }
        
        // Ctrl+U (View Source)
        if (e.ctrlKey && e.keyCode === 85) {
          e.preventDefault();
          e.stopPropagation();
          return false;
        }
        
        // Ctrl+Shift+C (Inspect Element)
        if (e.ctrlKey && e.shiftKey && e.keyCode === 67) {
          e.preventDefault();
          e.stopPropagation();
          return false;
        }
        
        // Ctrl+Shift+K (Console in Firefox)
        if (e.ctrlKey && e.shiftKey && e.keyCode === 75) {
          e.preventDefault();
          e.stopPropagation();
          return false;
        }
        
        // Ctrl+Shift+E (Network tab)
        if (e.ctrlKey && e.shiftKey && e.keyCode === 69) {
          e.preventDefault();
          e.stopPropagation();
          return false;
        }
      }, true);
      
      // Disable right click on images
      document.addEventListener('DOMContentLoaded', function() {
        const images = document.querySelectorAll('img');
        images.forEach(img => {
          img.oncontextmenu = function() { return false; };
          img.ondragstart = function() { return false; };
        });
      });
      
      // Monitor for new images and disable context menu
      const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
          mutation.addedNodes.forEach(function(node) {
            if (node.tagName === 'IMG') {
              node.oncontextmenu = function() { return false; };
              node.ondragstart = function() { return false; };
            }
            if (node.querySelectorAll) {
              const images = node.querySelectorAll('img');
              images.forEach(img => {
                img.oncontextmenu = function() { return false; };
                img.ondragstart = function() { return false; };
              });
            }
          });
        });
      });
      
      observer.observe(document.body, {
        childList: true,
        subtree: true
      });
      
      // Additional protection against console access
      if (typeof console !== 'undefined') {
        console.log = function() {};
        console.warn = function() {};
        console.error = function() {};
        console.info = function() {};
        console.debug = function() {};
        console.trace = function() {};
      }
      
      // Disable print
      window.print = function() {
        return false;
      };
      
      // Block Ctrl+P
      document.addEventListener('keydown', function(e) {
        if (e.ctrlKey && e.keyCode === 80) {
          e.preventDefault();
          return false;
        }
      });
      
      // Disable save page
      document.addEventListener('keydown', function(e) {
        if (e.ctrlKey && e.keyCode === 83) {
          e.preventDefault();
          return false;
        }
      });
    </script>
    
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>