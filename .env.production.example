# Radiate Production Environment Configuration
# ВАЖНО: Этот файл должен быть в .gitignore!

# ==========================================
# ОБЩИЕ НАСТРОЙКИ
# ==========================================
NODE_ENV=production
RUST_LOG=info,radiate=debug
BIND_ADDRESS=0.0.0.0

# ==========================================
# БЕЗОПАСНОСТЬ
# ==========================================
# JWT секрет должен быть минимум 32 символа
# Сгенерировать: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_TO_RANDOM_32_CHAR_STRING_IN_PRODUCTION

# Секрет для подписи cookies
COOKIE_SECRET=CHANGE_THIS_TO_RANDOM_32_CHAR_STRING

# ==========================================
# БАЗА ДАННЫХ
# ==========================================
# MongoDB с авторизацией
MONGO_URI=mongodb://radiate_user:secure_password@localhost:27017/radiate?authSource=admin

# Redis с паролем
REDIS_URL=redis://:redis_password@localhost:6379/0

# ==========================================
# СЕРВИСЫ
# ==========================================
# Auth Service
AUTH_PORT=14701
AUTH_SERVICE_URL=http://localhost:14701

# Voice Service  
VOICE_PORT=14705
VOICE_SERVICE_URL=http://localhost:14705

# Chat Service
CHAT_PORT=14702
CHAT_SERVICE_URL=http://localhost:14702

# Telegram Bot Service
TELEGRAM_HTTP_PORT=14703
# КРИТИЧНО: Получите токен от @BotFather и держите в секрете!
TELEGRAM_BOT_TOKEN=YOUR_BOT_TOKEN_FROM_BOTFATHER

# ==========================================
# LIVEKIT (WebRTC)
# ==========================================
LIVEKIT_URL=http://localhost:7880
# Сгенерировать ключи: livekit-cli generate-keys
LIVEKIT_API_KEY=your_livekit_api_key
LIVEKIT_API_SECRET=your_livekit_api_secret

# ==========================================
# TURN/STUN SERVERS
# ==========================================
TURN_SERVER_URL=turn:your-server.com:3478
TURN_USERNAME=turnuser
# Сгенерировать: openssl rand -hex 32
TURN_PASSWORD=your_turn_password

# ==========================================
# SSL/TLS (для production)
# ==========================================
USE_TLS=true
TLS_CERT_PATH=/etc/letsencrypt/live/yourdomain.com/fullchain.pem
TLS_KEY_PATH=/etc/letsencrypt/live/yourdomain.com/privkey.pem

# ==========================================
# RATE LIMITING
# ==========================================
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60
RATE_LIMIT_LOCKOUT_MINUTES=10

# ==========================================
# MONITORING
# ==========================================
PROMETHEUS_METRICS_PORT=9090
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# ==========================================
# BACKUP & RECOVERY
# ==========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # 2 AM daily
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=radiate-backups

# ==========================================
# FEATURE FLAGS
# ==========================================
ENABLE_VOICE_CHAT=true
ENABLE_VIDEO_CHAT=false
ENABLE_SCREEN_SHARE=true
ENABLE_FILE_SHARING=true
MAX_FILE_SIZE_MB=100

# ==========================================
# LOGGING
# ==========================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=/var/log/radiate/app.log
ERROR_LOG_OUTPUT=/var/log/radiate/error.log

# ==========================================
# CORS
# ==========================================
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization
CORS_MAX_AGE=86400

# ==========================================
# SESSION
# ==========================================
SESSION_SECRET=CHANGE_THIS_TO_RANDOM_STRING
SESSION_MAX_AGE=86400  # 24 hours
SESSION_SECURE=true    # только через HTTPS
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=strict
